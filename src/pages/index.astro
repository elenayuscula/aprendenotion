---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/ui/Hero.astro';
import NewsletterCTA from '../components/ui/NewsletterCTA.astro';
import CTABlock from '../components/ui/CTABlock.astro';
import { getCollection } from 'astro:content';

const latestPosts = (await getCollection('blog'))
  .sort((a, b) => new Date(b.data.publishDate).getTime() - new Date(a.data.publishDate).getTime())
  .slice(0, 3);

const lessons = [
  { emoji: '‚úèÔ∏è', title: '01. Introducci√≥n al espacio de trabajo', href: '/introduccion-espacio-trabajo' },
  { emoji: 'üß±', title: '02. P√°ginas y Bloques', href: '/paginas-bloques' },
  { emoji: 'üìä', title: '03. Bases de Datos', href: '/bases-datos' },
  { emoji: 'üï∏Ô∏è', title: '4. Relations & Rollups', href: '/relations-rollups' },
  { emoji: '‚ûó', title: '5. F√≥rmulas', href: '/formulas' },
  { emoji: 'üîå', title: '6. La API de Notion', href: '/api-notion' },
  { emoji: 'üì¶', title: 'Notion Starter Pack', href: '/starter-pack' },
];

const products = [
  {
    emoji: 'üöÄ',
    title: 'Notion Starter Pack',
    description: 'Todos los templates del curso listos para usar. Empieza a usar Notion sin configurar nada.',
    tag: 'Templates',
    tagClass: 'product-card__tag--orange',
    href: '/herramientas/notion-starter-pack',
    featured: true,
  },
  {
    emoji: 'üß≠',
    title: 'Life Design Kit',
    description: 'Dise√±a un sistema completo para organizar tu vida personal y profesional con Notion.',
    tag: 'Curso',
    href: 'https://elenamadrigal.com',
    external: true,
  },
  {
    emoji: 'üñ§',
    title: 'Tu P√°gina en Notion',
    description: 'Aprende a crear p√°ginas profesionales y atractivas para tu marca o proyecto.',
    tag: 'Curso',
    href: 'https://elenamadrigal.com',
    external: true,
  },
  {
    emoji: '‚öôÔ∏è',
    title: 'Herramientas y sistemas',
    description: 'Plantillas y sistemas avanzados para llevar tu productividad al siguiente nivel.',
    tag: 'Recursos',
    href: 'https://elenamadrigal.gumroad.com',
    external: true,
  },
  {
    emoji: 'üåà',
    title: 'Consultor√≠as personalizadas',
    description: 'Asesoramiento 1:1 para dise√±ar un espacio de trabajo en Notion adaptado a ti.',
    tag: 'Servicio',
    href: 'https://elenamadrigal.com',
    external: true,
  },
];
---

<BaseLayout
  title="Aprende Notion ‚Äî Notion para la vida real"
  description="Aprende a usar Notion desde 0 construyendo un proyecto real. Videos gratuitos que te llevar√°n desde los aspectos m√°s b√°sicos hasta dominar completamente la herramienta."
>
  <div class="page-wrapper page-wrapper--wide">

    <!-- ============================================
         1. HERO ‚Äî Blanco
         ============================================ -->
    <Hero
      title="Notion para la vida real"
      icon="/illustrations/notion-3d-icon.svg"
      image="/illustrations/hero-miroodles.svg"
      imageAlt="Ilustraci√≥n decorativa con formas geom√©tricas y lupa"
      layout="split"
    >
      <p class="section__text">
        <a href="https://notion.so" target="_blank" rel="noopener">Notion</a> es una herramienta de productividad que ha cambiado mi vida. No por ser una herramienta de productividad, sino porque, si sabes usarla, se convierte en lo que t√∫ quieras.
      </p>
      <p class="section__text">
        La clave est√° en <strong>saber de lo que es capaz</strong>. Y ah√≠ es donde se queda mucha gente. Pero si pasas la primera curva de aprendizaje y te asomas a su potencial, es dif√≠cil ver d√≥nde est√° el l√≠mite.
      </p>
      <p class="section__text">
        Yo a√∫n lo estoy buscando y te invito a que lo busques conmigo.
      </p>
    </Hero>

    <!-- ============================================
         2. CURSO + LECCIONES ‚Äî Franja gris
         ============================================ -->
    <div class="band" id="curso">
      <section class="section" style="padding-top: 0; padding-bottom: 0;">
        <h2 class="section__title">Aprende Notion desde 0 construyendo un proyecto real</h2>
        <div class="course-intro">
          <div class="course-intro__illustration">
            <img src="/illustrations/course-miroodles.svg" alt="Ilustraci√≥n de port√°til con creatividad" width="140" height="140" loading="lazy" />
          </div>
          <p class="course-intro__text">
            Una <a href="https://youtube.com/c/elenamadrigal" target="_blank" rel="noopener">colecci√≥n de videos</a> que te llevar√°n desde los aspectos m√°s b√°sicos hasta dominar completamente la herramienta, d√°ndote alas para poder organizar toda tu vida con ella.
          </p>
        </div>
      </section>

      <section class="section" style="padding-bottom: 0;">
        <h3 style="font-size: 1rem; font-weight: 700; margin-bottom: 0;">Lecciones</h3>
      </section>

      <nav class="lessons-grid" aria-label="Lecciones del curso">
        {lessons.map((lesson) => (
          <a href={lesson.href} class="lesson-card">
            <span class="lesson-card__emoji" aria-hidden="true">{lesson.emoji}</span>
            <span class="lesson-card__title">{lesson.title}</span>
          </a>
        ))}
      </nav>

      <!-- Starter Pack callout dentro de la franja -->
      <div class="starterpack-callout" style="margin-top: 1.5rem;">
        <span class="starterpack-callout__icon" aria-hidden="true">‚ú®</span>
        <p class="starterpack-callout__text">
          Desc√°rgate aqu√≠ el <a href="/starter-pack">Notion Starter Pack</a> para tener todos los templates usados en este curso y poder empezar a usar Notion sin tener que configurar nada.
        </p>
      </div>
    </div>

    <!-- ============================================
         3. DE QU√â VA ‚Äî Blanco
         ============================================ -->
    <section class="section" id="de-que-va">
      <h2 class="section__title">De qu√© va todo esto</h2>
      <p class="section__text">
        Este proyecto nace con la idea de ense√±ar Notion de una manera diferente. En vez de centrarnos en las funcionalidades de la herramienta, vamos a aprender a usarla construyendo un proyecto real paso a paso.
      </p>
      <p class="section__text">
        La idea es que, una vez acabes este curso, tu cabeza estar√° bulliendo de ideas de c√≥mo usarla para peque√±os o grandes procesos de tu d√≠a a d√≠a. La magia empezar√° cuando te des cuenta de que, por c√≥mo est√° pensada la herramienta, <strong>t√∫ ser√°s qui√©n decida c√≥mo dise√±as esos sistemas</strong>.
      </p>
      <p class="section__text">
        La capacidad de dise√±ar esos sistemas, de poder ver d√≥nde fallamos y c√≥mo mejorarlos y poder reconstruirlos para perfeccionarlos es lo que hace de Notion una herramienta tan especial.
      </p>
    </section>

    <!-- ============================================
         4. NEWSLETTER ‚Äî Franja gris
         ============================================ -->
    <div class="band">
      <NewsletterCTA
        emoji="üíå"
        title="No te pierdas nada"
        text="Suscr√≠bete para recibir novedades, trucos y recursos sobre Notion directamente en tu bandeja de entrada."
      />
    </div>

    <!-- ============================================
         5. PRODUCTOS ‚Äî Blanco
         ============================================ -->
    <section class="section" id="productos">
      <h2 class="section__title">Lleva Notion m√°s all√°</h2>
      <p class="section__text" style="color: var(--color-text-secondary); margin-bottom: 1.5rem;">
        Recursos, cursos y herramientas para sacarle el m√°ximo partido a Notion.
      </p>
      <div class="products-grid">
        {products.map((p) => (
          <a
            href={p.href}
            class={`product-card${p.featured ? ' product-card--featured' : ''}`}
            {...(p.external ? { target: '_blank', rel: 'noopener' } : {})}
          >
            <span class="product-card__emoji" aria-hidden="true">{p.emoji}</span>
            <div class="product-card__content">
              <h3 class="product-card__title">{p.title}</h3>
              <p class="product-card__description">{p.description}</p>
              <span class={`product-card__tag${p.tagClass ? ` ${p.tagClass}` : ''}`}>{p.tag}</span>
            </div>
          </a>
        ))}
      </div>
    </section>

    <!-- ============================================
         6. BLOG ‚Äî Franja gris
         ============================================ -->
    <div class="band" id="blog">
      <section class="section" style="padding-top: 0; padding-bottom: 0;">
        <h2 class="section__title">Del blog</h2>
        <p class="section__text" style="color: var(--color-text-secondary); margin-bottom: 1.5rem;">
          Art√≠culos y tutoriales para seguir aprendiendo sobre Notion.
        </p>
        <div class="blog-preview-grid">
          {latestPosts.map((post) => (
            <a href={`/blog/${post.id}`} class="blog-preview-card">
              <div class="blog-preview-card__image">
                {post.data.coverImage ? (
                  <img src={post.data.coverImage} alt={post.data.title} loading="lazy" />
                ) : (
                  <span class="blog-preview-card__emoji" aria-hidden="true">{post.data.emoji}</span>
                )}
              </div>
              <div class="blog-preview-card__body">
                <span class="blog-preview-card__category">{post.data.category}</span>
                <h3 class="blog-preview-card__title">{post.data.title}</h3>
                <p class="blog-preview-card__description">{post.data.description}</p>
              </div>
            </a>
          ))}
        </div>
        <div style="text-align: center; margin-top: 1.5rem;">
          <a href="/blog" class="btn btn--outline">Ver todos los art√≠culos ‚Üí</a>
        </div>
      </section>
    </div>

    <!-- ============================================
         7. POR QU√â ES GRATIS ‚Äî Blanco
         ============================================ -->
    <section class="section" id="por-que-gratis">
      <h2 class="section__title" style="text-align: center;">¬øPor qu√© es gratis?</h2>
      <p class="section__text" style="text-align: center; max-width: 640px; margin: 0 auto 1em;">
        Creo de verdad que Notion tiene potencial para ayudarte a construir un sistema mejor para tu vida. No quiero que el dinero sea un impedimento, as√≠ que <strong>los videos son totalmente gratuitos y de acceso libre</strong>.
      </p>
      <p class="section__text" style="max-width: 640px; margin: 0 auto 1em;">
        Mi idea es que la gente se sienta lo suficientemente empoderada como para empezar a dise√±ar sus propios sistemas. Si sigues el curso, me encantar√≠a que me compartas cualquier duda o sugerencia: c√≥mo se puede mejorar, qu√© te gustar√≠a ver y qu√© te resulta confuso.
      </p>
    </section>

    <!-- ============================================
         8. CONTACTO ‚Äî Franja gris
         ============================================ -->
    <div class="band" id="contacto">
      <section class="section" style="padding-top: 0; padding-bottom: 0;">
        <h2 class="section__title">Contacto</h2>
        <p class="section__text" style="margin-bottom: 1rem;">
          Si tienes cualquier duda, sugerencia o simplemente quieres saludar:
        </p>
        <ul style="list-style: none; padding: 0; font-size: 1rem;">
          <li style="margin-bottom: 0.5rem;">üìß <a href="mailto:elena@elenamadrigal.com"><strong>elena@elenamadrigal.com</strong></a></li>
          <li style="margin-bottom: 0.5rem;">üê¶ <a href="https://twitter.com/elenayuscula" target="_blank" rel="noopener">@elenayuscula</a></li>
          <li style="margin-bottom: 0.5rem;">üìá <a href="https://linkedin.com/in/elenamadrigal" target="_blank" rel="noopener">LinkedIn</a></li>
          <li style="margin-bottom: 0.5rem;">üñã <a href="https://elenamadrigal.com" target="_blank" rel="noopener">elenamadrigal.com</a></li>
        </ul>
      </section>
    </div>

  </div>

  <!-- Course structured data -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "Course",
    "name": "Aprende Notion ‚Äî Notion para la vida real",
    "description": "Aprende a usar Notion desde 0 construyendo un proyecto real. Videos gratuitos desde lo m√°s b√°sico hasta dominar la herramienta.",
    "provider": {
      "@type": "Person",
      "name": "Elena Madrigal",
      "url": "https://elenamadrigal.com"
    },
    "isAccessibleForFree": true,
    "inLanguage": "es",
    "url": "https://aprendenotion.com",
    "hasCourseInstance": {
      "@type": "CourseInstance",
      "courseMode": "online",
      "courseWorkload": "PT7H"
    }
  })} />
</BaseLayout>
