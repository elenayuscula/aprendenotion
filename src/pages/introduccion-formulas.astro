---
import LessonLayout from '../layouts/LessonLayout.astro';

const toc = [
  { label: 'El menÃº FÃ³rmula', href: '#menu-formula' },
  { label: 'De quÃ© se compone una fÃ³rmula', href: '#composicion' },
  { label: 'Â¿QuÃ© queremos hacer? â†’ Acciones', href: '#acciones' },
  { label: 'Â¿A quÃ© queremos hacerlo? â†’ Input Values', href: '#input-values' },
  { label: 'Â¿CuÃ¡ndo queremos hacerlo? â†’ Condiciones', href: '#condiciones' },
];
---

<LessonLayout
  title="5.01. IntroducciÃ³n a las FÃ³rmulas en Notion â€” Aprende Notion"
  description="Aprende los fundamentos de las fÃ³rmulas en Notion: operadores, funciones, input values y condiciones."
  emoji="â—"
  lessonTitle="5.01. IntroducciÃ³n a las FÃ³rmulas en Notion"
  prevLink={{ href: '/formulas', label: 'â— 5. FÃ³rmulas' }}
  nextLink={{ href: '/formulas-avanzadas', label: '5.02. Expresiones y condiciones anidadas' }}
  toc={toc}
>
  <h2 id="menu-formula">El menÃº FÃ³rmula</h2>
  <p>Para crear una fÃ³rmula, primero debes aÃ±adir una propiedad de tipo <code>Formula</code> en tu base de datos. Al hacer clic en ese campo, se abre una ventana con varias secciones:</p>
  <ul>
    <li><strong>Propiedades</strong>: Lista de todas las propiedades de tu base de datos. Al hacer clic, se insertan automÃ¡ticamente con la sintaxis correcta, como <code>prop("Fecha")</code>.</li>
    <li><strong>Constants</strong>: Constantes matemÃ¡ticas (pi, e) que puedes aÃ±adir a tu fÃ³rmula.</li>
    <li><strong>Operadores</strong>: CÃ¡lculos simples con indicadores visuales sobre el tipo de propiedad compatible.</li>
    <li><strong>Funciones</strong>: FÃ³rmulas predefinidas mÃ¡s complejas para realizar acciones avanzadas.</li>
  </ul>

  <h2 id="composicion">De quÃ© se compone una fÃ³rmula</h2>
  <p>Antes de crear fÃ³rmulas, debes plantearte cuatro preguntas clave:</p>
  <ol>
    <li><strong>Â¿QuÃ© queremos hacer?</strong> Las acciones u operaciones sobre propiedades</li>
    <li><strong>Â¿A quÃ© queremos hacerlo?</strong> Los valores sobre los que aplicar la fÃ³rmula</li>
    <li><strong>Â¿CuÃ¡ndo queremos hacerlo?</strong> Las condiciones que deben cumplirse</li>
    <li>Â¿QuÃ© hacer si la condiciÃ³n no se cumple?</li>
  </ol>

  <h2 id="acciones">Â¿QuÃ© queremos hacer? â†’ Acciones</h2>

  <h3>Operadores</h3>
  <p>Existen tres tipos de operadores:</p>

  <p><strong>Operadores aritmÃ©ticos</strong> para cÃ¡lculos matemÃ¡ticos simples:</p>
  <ul>
    <li>Sumar: <code>+</code></li>
    <li>Restar: <code>-</code></li>
    <li>Multiplicar: <code>*</code></li>
    <li>Dividir: <code>/</code></li>
    <li>Porcentaje: <code>%</code></li>
  </ul>

  <p><strong>Operadores de concatenaciÃ³n</strong> para combinar cadenas de texto:</p>
  <ul>
    <li><code>2 + 2</code> â†’ <code>4</code></li>
    <li><code>"NÃºmero de items: " + "5"</code> â†’ <code>"NÃºmero de items: 5"</code></li>
  </ul>

  <div class="callout">
    <span class="callout__icon">ğŸ’¡</span>
    <div class="callout__content">
      <p>Cuando colocas un nÃºmero entre comillas, deja de ser un nÃºmero y se convierte en una cadena de texto (string).</p>
    </div>
  </div>

  <h3>Funciones</h3>
  <p>Las funciones ofrecen acciones predefinidas sobre valores llamados <strong>argumentos</strong>, separados por comas:</p>
  <p><code>function()</code></p>
  <p>Ejemplo: <code>add(2, 2)</code></p>
  <p>Cada funciÃ³n requiere un nÃºmero especÃ­fico de argumentos, algunos opcionales, y cada argumento debe ser del tipo correcto (nÃºmeros, texto, etc.). Si pasas un tipo incorrecto, la fÃ³rmula fallarÃ¡.</p>

  <h2 id="input-values">Â¿A quÃ© queremos hacerlo? â†’ Input Values</h2>
  <p>Los input values pueden ser de tres tipos:</p>

  <h3>Referencias a Propiedades</h3>
  <p>Usa la funciÃ³n <code>prop()</code> para referenciar otras propiedades:</p>
  <p><code>prop("Precio") * prop("Cantidad")</code></p>

  <h3>Valores literales</h3>
  <p>Valores fijos que escribes directamente, como cadenas de texto:</p>
  <p><code>add("Autor: ", prop("Autor"))</code></p>
  <p>Esto aÃ±ade el texto "Autor: " antes del valor de la propiedad Autor en cada registro.</p>

  <h3>Constantes</h3>
  <p>Constantes matemÃ¡ticas como pi y e, disponibles en Notion aunque raramente se usan.</p>

  <h2 id="condiciones">Â¿CuÃ¡ndo queremos hacerlo? â†’ Condiciones</h2>
  <p>Para ejecutar acciones solo si se cumplen ciertas condiciones, usa la funciÃ³n <code>if()</code> con tres argumentos:</p>
  <ol>
    <li>Una expresiÃ³n que evalÃºa si algo es <code>true</code> o <code>false</code></li>
    <li>El valor a devolver si es <code>true</code></li>
    <li>El valor a devolver si es <code>false</code></li>
  </ol>

  <h3>Operadores de comparaciÃ³n</h3>
  <p>Existen seis operadores para comparar valores:</p>
  <ul>
    <li><code>==</code> â€” Igual a â€” <code>2 == 2 â†’ true</code></li>
    <li><code>!=</code> â€” No es igual a â€” <code>2 != 2 â†’ false</code></li>
    <li><code>&gt;</code> â€” Mayor que â€” <code>2 &gt; 2 â†’ false</code></li>
    <li><code>&lt;</code> â€” Menor que â€” <code>2 &lt; 3 â†’ true</code></li>
    <li><code>&gt;=</code> â€” Mayor o igual que â€” <code>2 &gt;= 2 â†’ true</code></li>
    <li><code>&lt;=</code> â€” Menor o igual que â€” <code>2 &lt;= 3 â†’ true</code></li>
  </ul>

  <p><strong>Ejemplo prÃ¡ctico:</strong></p>
  <p><code>if(prop("Status") == "activa", "ğŸŸ¢", "ğŸ”´")</code></p>
  <p>Esta fÃ³rmula comprueba si Status es igual a "activa". Si es verdadero, devuelve ğŸŸ¢; si es falso, devuelve ğŸ”´.</p>
</LessonLayout>
