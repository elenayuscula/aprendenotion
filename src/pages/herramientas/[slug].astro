---
import { getCollection } from 'astro:content';
import HerramientaLayout from '../../layouts/HerramientaLayout.astro';

export async function getStaticPaths() {
  const allProducts = await getCollection('herramientas');
  // Only generate pages for non-external products
  const products = allProducts.filter((p) => !p.data.external);
  return products.map((product) => ({
    params: { slug: product.id },
    props: { product },
  }));
}

const { product } = Astro.props;
---

<HerramientaLayout {...product.data} />
